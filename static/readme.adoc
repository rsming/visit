```
        _      _ __             __        __  _     
 _   __(_)____(_) /_      _____/ /_____ _/ /_(_)____
| | / / / ___/ / __/_____/ ___/ __/ __ `/ __/ / ___/
| |/ / (__  ) / /_/_____(__  ) /_/ /_/ / /_/ / /__  
|___/_/____/_/\__/     /____/\__/\__,_/\__/_/\___/  
                                                    
       ¯\_(ツ)_/¯ :: [html / css / bulma]
```

== visit-static ==

Static HTML/CSS page dedicated to the International Hobbit Day (September the 22nd)

=== docker ===

```
docker stop hobbit.visit && docker rm hobbit.visit && docker image rm rsming/visit:1.0
docker build --tag rsming/visit:1.0 .
docker run --name hobbit.visit --detach --publish 8080:80 --publish 8443:443 rsming/visit:1.0
```

https://localhost:8443

```
docker login --username=rsming
docker push rsming/visit:1.0
docker push rsming/visit:latest
```

=== steps to deploy to aws ===

  . create ssl certificate: (see below)
  . create docker image: `docker build --tag rsming/visit:1.0 .`
  . push image to docker hub: `docker push rsming/visit:1.0`
  . create aws cloudformation stack: (see `cloudformation/readme.adoc`)

=== ssl certificate with certbot ===

```
docker run --rm -it \
  --env AWS_ACCESS_KEY_ID=$AWS_ACCESS_KEY_ID \
  --env AWS_SECRET_ACCESS_KEY=$AWS_SECRET_ACCESS_KEY \
  --volume "$PWD/ssh:/etc/letsencrypt" certbot/dns-route53 certonly \
  --dns-route53 \
  -d visit.shrugcoding.click -m "rustam.mingazov@gmail.com" --agree-tos
```

=== k8s ===

```
minikube start
minikube tunnel
kubectl create -f ./k8s --save-config --record
kubectl delete -f ./k8s
```

access site with `service/service-visit` `EXTERNAL-IP`

=== resources ===

  - [Docker Hub] (https://hub.docker.com/repository/docker/rsming/visit)
  - [Bulma] (https://bulma.io/)
  - [Font Awesome] (https://fontawesome.com/)
  - [xip.io] http://xip.io/
